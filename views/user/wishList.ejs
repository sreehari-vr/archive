<%- include("../../views/partials/user/header") %>

	<div class="sale">
		<div class="container">
			<div class="row">
				<div class="col-sm-8 offset-sm-2 text-center">
					<div class="row">
						<div class="owl-carousel2">
							<div class="item">
								<div class="col">
									<h3><a href="#">25% off (Almost) Everything! Use Code: Summer Sale</a></h3>
								</div>
							</div>
							<div class="item">
								<div class="col">
									<h3><a href="#">Our biggest sale yet 50% off all summer shoes</a></h3>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	</nav>

	


	<div class="colorlib-product">
		<div class="container">
			<div class="row row-pb-lg">
				<div class="col-md-10 offset-md-1">
					<div class="process-wrap">
						<div class="process text-center active">
							<p><span>01</span></p>
							<h3>Shopping Cart</h3>
						</div>
						<div class="process text-center">
							<p><span>02</span></p>
							<h3>Checkout</h3>
						</div>
						<div class="process text-center">
							<p><span>03</span></p>
							<h3>Order Complete</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="row row-pb-lg">
				<div class="col-12">
					<div class="wishlist-header d-none d-md-flex mb-3">
						<div class="col-5 pl-4">Product Details</div>
						<div class="col-2 text-center">Price</div>
						<div class="col-2 text-center">Remove</div>
						<div class="col-3 text-center">Action</div>
					</div>
	
					<% if(wishlist && wishlist.items.length > 0) { %>
						<% wishlist.items.forEach(item => { %>
							<div class="wishlist-item card mb-3">
								<div class="card-body d-flex flex-column flex-md-row align-items-center">
									<!-- Product Image and Name (Mobile & Desktop) -->
									<div class="product-info d-flex align-items-center col-12 col-md-5 mb-3 mb-md-0 px-0">
										<div class="product-img mr-3">
											<img src="<%= item.productId.productImage && item.productId.productImage[0] ? 
													 item.productId.productImage[0].replace(/\\/g, '/') : '/images/default-product.jpg' %>"
												 alt="<%= item.productId.productName %>" 
												 class="img-fluid" style="max-height: 6rem; max-width: 6rem;">
										</div>
										<div class="product-details">
											<h3 class="h5 mb-1"><%= item.productId.productName %></h3>
											<!-- Mobile Price Display -->
											<div class="d-md-none">
												<span class="text-muted">Price: </span>
												<span class="font-weight-bold">₹<%= item.productId.salePrice.toFixed(2) %></span>
											</div>
										</div>
									</div>
	
									<!-- Price (Desktop) -->
									<div class="d-none d-md-block col-2 text-center">
										<span>₹<%= item.productId.salePrice.toFixed(2) %></span>
									</div>
	
									<!-- Remove Button (Desktop) -->
									<div class="d-none d-md-block col-2 text-center">
										<a href="/wishlist/remove/<%= item.productId._id %>" class="text-danger">
											<i class="icon-trash"></i>
										</a>
									</div>
	
									<!-- Action Buttons -->
									<div class="product-actions col-12 col-md-3 d-flex flex-column flex-md-column align-items-stretch">
										<!-- Remove Button (Mobile) -->
										<div class="d-md-none mb-2 text-center">
											<a href="/wishlist/remove/<%= item.productId._id %>" class="btn btn-outline-danger btn-sm">
												Remove from Wishlist
											</a>
										</div>
	
										<!-- Add to Cart Button -->
										<form action="/cart/<%= item.productId._id %>" method="post">
											<input type="hidden" name="quantity" value="1">
											<input type="hidden" name="grandTotal" value="<%= item.productId.salePrice %>">
											<input type="hidden" name="subTotal" value="<%= item.productId.salePrice %>">
											<button type="submit" class="btn btn-primary btn-block">
												<i class="icon-shopping-cart"></i> Add to Cart
											</button>
										</form>
									</div>
								</div>
							</div>
						<% }) %>
					<% } else { %>
						<div class="text-center py-5">
							<h3>Your wishlist is empty</h3>
							<p class="text-muted mt-3">Looks like you haven't added any items to your Wishlist yet.</p>
							<a href="/shop" class="btn btn-primary mt-3">Start Shopping</a>
						</div>
					<% } %>
				</div>
			</div>
		</div>
	</div>
	
	<style>
		/* Custom styles for process indicators */
		
		.process-number {
			display: inline-flex;
			width: 40px;
			height: 40px;
			background-color: #f8f9fa;
			border: 2px solid #dee2e6;
			border-radius: 50%;
			align-items: center;
			justify-content: center;
			font-weight: bold;
		}
		.process.active .process-number {
			background-color: #007bff;
			color: white;
			border-color: #007bff;
		}
		.process-title {
			font-size: 0.8rem;
			margin-top: 0.5rem;
		}
	
		@media (max-width: 767px) {
			.wishlist-item {
				border: 1px solid #e0e0e0;
				border-radius: 8px;
			}
			.product-actions .btn {
				margin-top: 0.5rem;
			}
		}
	</style>


		<%- include("../../views/partials/user/footer") %>